<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Variable · Cropbox.jl</title><meta name="title" content="Variable · Cropbox.jl"/><meta property="og:title" content="Variable · Cropbox.jl"/><meta property="twitter:title" content="Variable · Cropbox.jl"/><meta name="description" content="Documentation for Cropbox.jl."/><meta property="og:description" content="Documentation for Cropbox.jl."/><meta property="twitter:description" content="Documentation for Cropbox.jl."/><meta property="og:url" content="https://cropbox.github.io/Cropbox.jl/stable/guide/variable/"/><meta property="twitter:url" content="https://cropbox.github.io/Cropbox.jl/stable/guide/variable/"/><link rel="canonical" href="https://cropbox.github.io/Cropbox.jl/stable/guide/variable/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-192782823-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-192782823-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Cropbox.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Cropbox.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../">Cropbox</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../tutorials/cropbox/">Getting started with Cropbox</a></li><li><a class="tocitem" href="../../tutorials/makingamodel/">Making a model</a></li><li><a class="tocitem" href="../../tutorials/usingamodel/">Using an existing model</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../system/">System</a></li><li class="is-active"><a class="tocitem" href>Variable</a><ul class="internal"><li><a class="tocitem" href="#Variable-Declaration"><span>Variable Declaration</span></a></li><li><a class="tocitem" href="#Variable-States"><span>Variable States</span></a></li><li><a class="tocitem" href="#Variable-Tags"><span>Variable Tags</span></a></li></ul></li><li><a class="tocitem" href="../configuration/">Configuration</a></li><li><a class="tocitem" href="../simulation/">Simulation</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><a class="tocitem" href="../inspection/">Inspection</a></li></ul></li><li><a class="tocitem" href="../../gallery/">Gallery</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../reference/">Index</a></li><li><a class="tocitem" href="../../reference/declaration/">Declaration</a></li><li><a class="tocitem" href="../../reference/simulation/">Simulation</a></li><li><a class="tocitem" href="../../reference/visualization/">Visualization</a></li><li><a class="tocitem" href="../../reference/inspection/">Inspection</a></li></ul></li><li><a class="tocitem" href="../../faq/">Frequently Asked Questions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Variable</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Variable</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cropbox/Cropbox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cropbox/Cropbox.jl/blob/main/docs/src/guide/variable.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="variable"><a class="docs-heading-anchor" href="#variable">Variable</a><a id="variable-1"></a><a class="docs-heading-anchor-permalink" href="#variable" title="Permalink"></a></h1><p>In Cropbox, a variable is defined as a unit element of modeling that denotes a value determined by a specific operation relying on other variables. Each variable represents a field within the system struct defined by the <code>@system</code> macro.</p><h2 id="Variable-Declaration"><a class="docs-heading-anchor" href="#Variable-Declaration">Variable Declaration</a><a id="Variable-Declaration-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Declaration" title="Permalink"></a></h2><p>Variables are declared when a system is declared with the <code>@system</code> macro. <code>@system</code> macro accepts lines of variable declaration specified by its own syntax. They are loosely based on Julia syntax sharing common expressions and operators, but have distinct semantics as explained below.</p><p><code>name[(args..; kwargs..)][: alias] [=&gt; body] ~ [state][::type][(tags..)]</code></p><ul><li><code>name</code>: variable name (usually short abbreviation)</li><li><code>args</code>: automatically bound depending variables</li><li><code>kwargs</code>: custom bound depending variables (only for <em>call</em> now)</li><li><code>alias</code>: alternative name (long description)</li><li><code>body</code>: code snippet (state/type specific, <code>begin .. end</code> block for multiple lines)</li><li><code>state</code>: verb indicating kind of state (empty if not <code>State</code>-based)</li><li><code>type</code>: internal type (<em>i.e.</em> <code>Float64</code> by default for most <code>State</code> variable)</li><li><code>tags</code>: variable specific options (<em>i.e.</em> unit, min/max, etc.)</li></ul><p><strong>Example</strong></p><p>Here is an example of a system declaration where all three variables are valid declarations:</p><pre><code class="language-julia hljs">@system S begin
    a: variable_a ~ advance
    b(a) =&gt; a^2 ~ track
    c =&gt; true ~ ::Bool
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.S</code></pre><h2 id="Variable-States"><a class="docs-heading-anchor" href="#Variable-States">Variable States</a><a id="Variable-States-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-States" title="Permalink"></a></h2><p>Within Cropbox, a variable inside a system can be one of many different abstract types based on the variable&#39;s purpose. Depending on its type, each variable has its own behavior when a system is instantiated. In Cropbox, we refer to these as the <em>state</em> of the variables, originating from the term <em>state variables</em> often used in mathematical modeling.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Specifying a <em>state</em> is not mandatory when declaring a variable. Cropbox also allows plain variables, which are commonly used for creating variable references to other systems. </p></div></div><p>Currently, there are 19 different variable states implemented in Cropbox.</p><p><em>Instant derivation</em></p><ul><li><a href="#preserve"><code>preserve</code></a>: keeps an initially assigned value with no further updates; constants, parameters</li><li><a href="#track"><code>track</code></a> : evaluates expression and assigns a new value for each time step</li><li><a href="#flag"><code>flag</code></a> : checks a conditional logic; similar to track with boolean type, but composition is allowed</li><li><a href="#remember"><code>remember</code></a> : keeps tracking the variable until a certain condition is met; like track switching to preserve</li></ul><p><em>Cumulative update</em></p><ul><li><a href="#accumulate"><code>accumulate</code></a>: emulates integration of a rate variable over time; essentially Euler method</li><li><a href="#capture"><code>capture</code></a>: calculates the difference between time steps</li><li><a href="#integrate"><code>integrate</code></a>: calculates an integral over a non-time variable using Gaussian method</li><li><a href="#advance"><code>advance</code></a>: updates an internal time-keeping variable</li></ul><p><em>Data source</em></p><ul><li><a href="#provide"><code>provide</code></a>: provides a table-like multi-column time-series data; i.e. weather data</li><li><a href="#drive"><code>drive</code></a>: fetches the current value from a time-series; often used with provide; i.e. air temperature</li><li><a href="#tabulate"><code>tabulate</code></a>: makes a two dimensional table with named keys; i.e. partitioning table</li><li><a href="#interpolate"><code>interpolate</code></a>: makes a curve function interpolated with discrete values; i.e. soil characteristic curve</li></ul><p><em>Equation solving</em></p><ul><li><a href="#solve"><code>solve</code></a>: solves a polynomial equation symbolically; <em>i.e.</em> quadratic equation for coupling photosynthesis</li><li><a href="#bisect"><code>bisect</code></a>: solves a nonlinear equation using bisection method; <em>i.e.</em> energy balance equation</li></ul><p><em>Dynamic structure</em></p><ul><li><a href="#produce"><code>produce</code></a>: attaches a new instance of dynamically generated system; <em>i.e.</em> root structure growth</li></ul><p><em>Language extension</em></p><ul><li><a href="#hold"><code>hold</code></a>: marks a placeholder for the variable shared between mixins</li><li><a href="#wrap"><code>wrap</code></a>: allows passing a reference to the state variable object, not a dereferenced value</li><li><a href="#call"><code>call</code></a>: defines a partial function accepting user-defined arguments, while bound to other variables</li><li><a href="#bring"><code>bring</code></a>: duplicates variables declaration from another system into the current system</li></ul><h3 id="*Instant-derivation*"><a class="docs-heading-anchor" href="#*Instant-derivation*"><em>Instant derivation</em></a><a id="*Instant-derivation*-1"></a><a class="docs-heading-anchor-permalink" href="#*Instant-derivation*" title="Permalink"></a></h3><h4 id="preserve"><a class="docs-heading-anchor" href="#preserve"><code>preserve</code></a><a id="preserve-1"></a><a class="docs-heading-anchor-permalink" href="#preserve" title="Permalink"></a></h4><p><code>preserve</code> variables are fixed values with no further modification after instantiation of a system. As a result, they are often used as the <code>state</code> for <code>parameter</code> variables, which allow any initial value to be set via a configuration object supplied at the start of a simulation. Non-parameter constants are also used for fixed variables that do not need to be computed at each time step.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#optional"><code>optional</code></a>, <a href="#parameter"><code>parameter</code></a>, <a href="#override"><code>override</code></a>, <a href="#extern"><code>extern</code></a>, <a href="#ref"><code>ref</code></a>, <a href="#min"><code>min</code></a>, <a href="#max"><code>max</code></a>, <a href="#round"><code>round</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><p><br/></p><h4 id="track"><a class="docs-heading-anchor" href="#track"><code>track</code></a><a id="track-1"></a><a class="docs-heading-anchor-permalink" href="#track" title="Permalink"></a></h4><p><code>track</code> variables are evaluated and assigned a new value at every time step. In a conventional model, these are the variables that would be computed in every update loop. At every time step, the formula in the variable code is evaluated and saved for use. This assignment of value occurs only <em>once</em> per time step, as intended by the Cropbox framework. No manual assignment of computation at an arbitrary time is allowed. This is to ensure that that there are no logical errors resulting from premature or incorrectly ordered variable assignments. For example, a cyclical reference between two <code>track</code> variables is caught by Cropbox as an error.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#override"><code>override</code></a>, <a href="#extern"><code>extern</code></a>, <a href="#ref"><code>ref</code></a>, <a href="#skip"><code>skip</code></a>, <a href="#init"><code>init</code></a>, <a href="#min"><code>min</code></a>, <a href="#max"><code>max</code></a>, <a href="#round"><code>round</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance
    b(a) =&gt; 2*a ~ track
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">4.0</td></tr></tbody></table></div><p><br/></p><h4 id="flag"><a class="docs-heading-anchor" href="#flag"><code>flag</code></a><a id="flag-1"></a><a class="docs-heading-anchor-permalink" href="#flag" title="Permalink"></a></h4><p><code>flag</code> variables are expressed in a conditional statement or logical operator for which a boolean value is evaluated at every time step. They function like a <code>track</code> variable but with a boolean value.</p><p>Supported tags: <a href="#parameter"><code>parameter</code></a>, <a href="#override"><code>override</code></a>, <a href="#extern"><code>extern</code></a>, <a href="#once"><code>once</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance
    b =&gt; 1 ~ preserve

    f(a, b) =&gt; (a &gt; b) ~ flag
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th><th style = "text-align: left;">f</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Bool" style = "text-align: left;">Bool</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">false</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">false</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">true</td></tr></tbody></table></div><p><br/></p><h4 id="remember"><a class="docs-heading-anchor" href="#remember"><code>remember</code></a><a id="remember-1"></a><a class="docs-heading-anchor-permalink" href="#remember" title="Permalink"></a></h4><p><code>remember</code> variables keep track of a variable until a specified condition is met. When the condition is met, it is saved as either its latest update or a specified value. They are like track variables that turn into preserve variables. The <code>when</code> tag is required to specify condition. Unless specified, the initial value for <code>remember</code> defaults to <code>0</code>.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#init"><code>init</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    t(context.clock.tick) ~ track
    f(t) =&gt; t &gt; 1 ~ flag
    r1(t) ~ remember(when=f)
    r2(t) =&gt; t^2 ~ remember(when=f)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×5 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">t</th><th style = "text-align: left;">f</th><th style = "text-align: left;">r1</th><th style = "text-align: left;">r2</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Bool" style = "text-align: left;">Bool</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">false</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">false</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">true</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">4.0</td></tr></tbody></table></div><p><br/></p><h3 id="*Cumulative-update*"><a class="docs-heading-anchor" href="#*Cumulative-update*"><em>Cumulative update</em></a><a id="*Cumulative-update*-1"></a><a class="docs-heading-anchor-permalink" href="#*Cumulative-update*" title="Permalink"></a></h3><h4 id="accumulate"><a class="docs-heading-anchor" href="#accumulate"><code>accumulate</code></a><a id="accumulate-1"></a><a class="docs-heading-anchor-permalink" href="#accumulate" title="Permalink"></a></h4><p><code>accumulate</code> variables emulate the integration of a rate variable over time. It uses the Euler&#39;s method of integration. By default, an <code>accumulate</code> variable accumulates every hour, unless a unit of time is specified.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#init"><code>init</code></a>, <a href="#time"><code>time</code></a>, <a href="#timeunit"><code>timeunit</code></a>, <a href="#reset"><code>reset</code></a>, <a href="#min"><code>min</code></a>, <a href="#max"><code>max</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ accumulate
    b =&gt; 1 ~ accumulate(u&quot;d&quot;)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(d,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0 d</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0416667 d</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">0.0833333 d</td></tr></tbody></table></div><p><br/></p><h4 id="capture"><a class="docs-heading-anchor" href="#capture"><code>capture</code></a><a id="capture-1"></a><a class="docs-heading-anchor-permalink" href="#capture" title="Permalink"></a></h4><p><code>capture</code> variables calculate the difference of a variable between time steps. The <code>time</code> tag allows evaluations for varying rates of time.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#time"><code>time</code></a>, <a href="#timeunit"><code>timeunit</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ track
    b(a) =&gt; a + 1 ~ capture
    c(a) =&gt; a + 1 ~ accumulate
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th><th style = "text-align: left;">c</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">4.0</td></tr></tbody></table></div><p><br/></p><h4 id="integrate"><a class="docs-heading-anchor" href="#integrate"><code>integrate</code></a><a id="integrate-1"></a><a class="docs-heading-anchor-permalink" href="#integrate" title="Permalink"></a></h4><p><code>integrate</code> variables calculate an integral over a non-time variable using the Gaussian method.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#from"><code>from</code></a>, <a href="#to"><code>to</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    w =&gt; 1 ~ preserve(parameter)
    a =&gt; 0 ~ preserve(parameter)
    b =&gt; π ~ preserve(parameter)
    f(w; x) =&gt; w*sin(x) ~ integrate(from=a, to=b)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">w</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.14159</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">f</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h4 id="advance"><a class="docs-heading-anchor" href="#advance"><code>advance</code></a><a id="advance-1"></a><a class="docs-heading-anchor-permalink" href="#advance" title="Permalink"></a></h4><p><code>advance</code> variables update an internal time-keeping variable. By default, it starts at 0 and increases by 1 every time step. Note that the unit does not have to be time-related.</p><p>Supported tags: <a href="#init"><code>init</code></a>, <a href="#step"><code>step</code></a>, <a href="#unit"><code>unit</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance(init=1)
    b ~ advance(step=2)
    c ~ advance(u&quot;m&quot;)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th><th style = "text-align: left;">c</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Unitful.Quantity{Float64, 𝐋, Unitful.FreeUnits{(m,), 𝐋, nothing}}" style = "text-align: left;">Quantity…</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0 m</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1.0 m</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">2.0 m</td></tr></tbody></table></div><p><br/></p><h3 id="*Data-source*"><a class="docs-heading-anchor" href="#*Data-source*"><em>Data source</em></a><a id="*Data-source*-1"></a><a class="docs-heading-anchor-permalink" href="#*Data-source*" title="Permalink"></a></h3><h4 id="provide"><a class="docs-heading-anchor" href="#provide"><code>provide</code></a><a id="provide-1"></a><a class="docs-heading-anchor-permalink" href="#provide" title="Permalink"></a></h4><p><code>provide</code> variables provide a DataFrame with a given index (<code>index</code>) starting from an initial value (<code>init</code>). By default, <code>autounit</code> is <code>true</code>, meaning that <code>provide</code> variables will attempt to get units from column names.</p><p>Supported tags: <a href="#index"><code>index</code></a>, <a href="#init"><code>init</code></a>, <a href="#step"><code>step</code></a>, <a href="#autounit"><code>autounit</code></a>, <a href="#parameter"><code>parameter</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; DataFrame(&quot;index (hr)&quot; =&gt; 0:2, &quot;value (m)&quot; =&gt; 0:10:20) ~ provide
end

instance(S).a</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">3×2 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> index      value     </span>
     │<span class="sgr90"> Quantity…  Quantity… </span>
─────┼──────────────────────
   1 │      0 hr        0 m
   2 │      1 hr       10 m
   3 │      2 hr       20 m</code></pre><p><br/></p><h4 id="drive"><a class="docs-heading-anchor" href="#drive"><code>drive</code></a><a id="drive-1"></a><a class="docs-heading-anchor-permalink" href="#drive" title="Permalink"></a></h4><p><code>drive</code> variables fetch the current value from a time-series. It is often used in conjunction with <code>provide</code>.</p><p>Supported tags: <a href="#tick"><code>tick</code></a>, <a href="#unit"><code>unit</code></a>, <a href="#from"><code>from</code></a>, <a href="#by"><code>by</code></a>, <a href="#parameter"><code>parameter</code></a>, <a href="#override"><code>override</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; [2, 4, 6] ~ drive
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">4.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">6.0</td></tr></tbody></table></div><p><br/></p><h4 id="tabulate"><a class="docs-heading-anchor" href="#tabulate"><code>tabulate</code></a><a id="tabulate-1"></a><a class="docs-heading-anchor-permalink" href="#tabulate" title="Permalink"></a></h4><p><code>tabulate</code> variables make a two dimensional table with named keys. The <code>rows</code> tag must be assigned.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#rows"><code>rows</code></a>, <a href="#columns"><code>columns</code></a>, <a href="#parameter"><code>parameter</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    T =&gt; [
      # a b
        0 4 ; # A
        1 5 ; # B
        2 6 ; # C
        3 7 ; # D
    ] ~ tabulate(rows=(:A, :B, :C, :D), columns=(:a, :b))
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">T</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&#91;0.0 4.0; 1.0 5.0; 2.0 6.0; 3.0 7.0&#93;</td></tr>
</table><p><br/></p><h4 id="interpolate"><a class="docs-heading-anchor" href="#interpolate"><code>interpolate</code></a><a id="interpolate-1"></a><a class="docs-heading-anchor-permalink" href="#interpolate" title="Permalink"></a></h4><p><code>interpolate</code> variables make a curve function for a provided set of discrete values.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#knotunit"><code>knotunit</code></a>, <a href="#reverse"><code>reverse</code></a>, <a href="#parameter"><code>parameter</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    m =&gt; [1 =&gt; 10, 2 =&gt; 20, 3 =&gt; 30] ~ interpolate
    a(m) =&gt; m(2.5) ~ track
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">m</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Int64&#125;,&#41;, ::Vector&#123;Int64&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Float64:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">25.0</td></tr>
</table><p>A matrix can also be used instead of a vector of pairs.</p><pre><code class="language-julia hljs">@system S(Controller) begin
    m =&gt; [1 10; 2 20; 3 30] ~ interpolate
    a(m) =&gt; m(2.5) ~ track
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">m</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Int64&#125;,&#41;, ::Vector&#123;Int64&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Float64:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">25.0</td></tr>
</table><p><br/></p><h3 id="*Equation-solving*"><a class="docs-heading-anchor" href="#*Equation-solving*"><em>Equation solving</em></a><a id="*Equation-solving*-1"></a><a class="docs-heading-anchor-permalink" href="#*Equation-solving*" title="Permalink"></a></h3><h4 id="solve"><a class="docs-heading-anchor" href="#solve"><code>solve</code></a><a id="solve-1"></a><a class="docs-heading-anchor-permalink" href="#solve" title="Permalink"></a></h4><p><code>solve</code> variables solve a polynomial equation symbolically. By default, it will return the highest solution. Therefore, when using the <code>lower</code> tag, it is recommended to pair it with another tag.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#lower"><code>lower</code></a>, <a href="#upper"><code>upper</code></a>, <a href="#pick"><code>pick</code></a></p><p><strong>Example</strong></p><p><em>The solution is x = 1, 2, 3</em></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve(parameter)
    b =&gt; -6 ~ preserve(parameter)
    c =&gt; 11 ~ preserve(parameter)
    d =&gt; -6 ~ preserve(parameter)
    x(a, b, c, d) =&gt; begin
        a*x^3 + b*x^2 + c*x + d
    end ~ solve
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">11.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">d</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.0</td></tr>
</table><p><br/></p><h4 id="bisect"><a class="docs-heading-anchor" href="#bisect"><code>bisect</code></a><a id="bisect-1"></a><a class="docs-heading-anchor-permalink" href="#bisect" title="Permalink"></a></h4><p><code>bisect</code> variables solve a nonlinear equation using the bisection method. The tags <code>lower</code> and <code>upper</code> must be provided.</p><p>Supported tags: <a href="#unit"><code>unit</code></a>, <a href="#evalunit"><code>evalunit</code></a>, <a href="#lower"><code>lower</code></a>, <a href="#upper"><code>upper</code></a>, <a href="#maxiter"><code>maxiter</code></a>, <a href="#tol"><code>tol</code></a>, <a href="#min"><code>min</code></a>, <a href="#max"><code>max</code></a></p><p><strong>Example</strong></p><p>The solution is x = 1, 2, 3</p><pre><code class="language-julia hljs">@system S(Controller) begin
    x(x) =&gt; x^3 - 6x^2 + 11x - 6 ~ bisect(lower=0, upper=3)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.0</td></tr>
</table><p><br/></p><h3 id="*Dynamic-structure*"><a class="docs-heading-anchor" href="#*Dynamic-structure*"><em>Dynamic structure</em></a><a id="*Dynamic-structure*-1"></a><a class="docs-heading-anchor-permalink" href="#*Dynamic-structure*" title="Permalink"></a></h3><h4 id="produce"><a class="docs-heading-anchor" href="#produce"><code>produce</code></a><a id="produce-1"></a><a class="docs-heading-anchor-permalink" href="#produce" title="Permalink"></a></h4><p><code>produce</code> variables attach a new instance of a dynamically generated system.</p><p>Supported tags: <a href="#single"><code>single</code></a>, <a href="#when"><code>when</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S begin
    a =&gt; produce(S) ~ produce
end

@system SController(Controller) begin
    s(context) ~ ::S
end

instance(SController)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">SController</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">s</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;S&gt;</td></tr>
</table><p><br/></p><h3 id="*Language-extension*"><a class="docs-heading-anchor" href="#*Language-extension*"><em>Language extension</em></a><a id="*Language-extension*-1"></a><a class="docs-heading-anchor-permalink" href="#*Language-extension*" title="Permalink"></a></h3><h4 id="hold"><a class="docs-heading-anchor" href="#hold"><code>hold</code></a><a id="hold-1"></a><a class="docs-heading-anchor-permalink" href="#hold" title="Permalink"></a></h4><p><code>hold</code> variables are placeholders for variables that are supplied by another system as a mixin.</p><p>Supported tags: None</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S1 begin
    a ~ advance
end

@system S2(S1, Controller) begin
    a ~ hold
    b(a) =&gt; 2*a ~ track
end

simulate(S2; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">4.0</td></tr></tbody></table></div><p><br/></p><h4 id="wrap"><a class="docs-heading-anchor" href="#wrap"><code>wrap</code></a><a id="wrap-1"></a><a class="docs-heading-anchor-permalink" href="#wrap" title="Permalink"></a></h4><p><code>wrap</code> allows passing a reference to the state variable object, not a dereferenced value</p><p>Supported tags: None</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a          =&gt; 1       ~ preserve
    b(a)       =&gt; a == a&#39; ~ flag
    c(wrap(a)) =&gt; a == a&#39; ~ flag
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">true</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">false</td></tr>
</table><p><br/></p><h4 id="call"><a class="docs-heading-anchor" href="#call"><code>call</code></a><a id="call-1"></a><a class="docs-heading-anchor-permalink" href="#call" title="Permalink"></a></h4><p><code>call</code> defines a partial function accepting user-defined arguments</p><p>Supported tags: <a href="#unit"><code>unit</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve
    f(a; x) =&gt; a + x ~ call
    b(f) =&gt; f(1) ~ track
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">f</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;call&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h4 id="bring"><a class="docs-heading-anchor" href="#bring"><code>bring</code></a><a id="bring-1"></a><a class="docs-heading-anchor-permalink" href="#bring" title="Permalink"></a></h4><p><code>bring</code> duplicates variable declaration from another system into the current system</p><p>Supported tags: <a href="#parameters"><code>parameters</code></a>, <a href="#override"><code>override</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S1 begin
    a =&gt; 1 ~ preserve
    b(a) =&gt; 2a ~ track
end

@system S2(Controller) begin
    c(context) ~ bring::S1
end

instance(S2)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S2</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;S1&gt;</td></tr>
</table><p><br/></p><h2 id="Variable-Tags"><a class="docs-heading-anchor" href="#Variable-Tags">Variable Tags</a><a id="Variable-Tags-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Tags" title="Permalink"></a></h2><p>Most variable states have tags in the form of <code>(tag)</code> for tag-specific behaviors. Available tags vary between variable states. Some tags are shared by multiple variable states while some tags are exclusive to certain variable states.</p><h3 id="autounit"><a class="docs-heading-anchor" href="#autounit"><code>autounit</code></a><a id="autounit-1"></a><a class="docs-heading-anchor-permalink" href="#autounit" title="Permalink"></a></h3><p>Allows <code>provide</code> variables to automatically assign units to variables depending on column headers of the DataFrame. By default, <code>autounit</code> is <code>true</code> and only needs to be specified when <code>false</code>.</p><p>Used by: <a href="#provide"><code>provide</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; DataFrame(&quot;index&quot; =&gt; (0:2)u&quot;hr&quot;, &quot;value (m)&quot; =&gt; 0:10:20) ~ provide
    b =&gt; DataFrame(&quot;index&quot; =&gt; (0:2)u&quot;hr&quot;, &quot;value (m)&quot; =&gt; 0:10:20) ~ provide(autounit=false)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.S</code></pre><pre><code class="language-julia hljs">instance(S).a</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">3×2 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> index      value     </span>
     │<span class="sgr90"> Quantity…  Quantity… </span>
─────┼──────────────────────
   1 │      0 hr        0 m
   2 │      1 hr       10 m
   3 │      2 hr       20 m</code></pre><pre><code class="language-julia hljs">instance(S).b</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">3×2 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> index      value (m) </span>
     │<span class="sgr90"> Quantity…  Int64     </span>
─────┼──────────────────────
   1 │      0 hr          0
   2 │      1 hr         10
   3 │      2 hr         20</code></pre><p><br/></p><h3 id="by"><a class="docs-heading-anchor" href="#by"><code>by</code></a><a id="by-1"></a><a class="docs-heading-anchor-permalink" href="#by" title="Permalink"></a></h3><p>Specifies the column and series from which the <code>drive</code> variable receives data. Can be omitted if the variable name is identical to column name.</p><p>Used by: <a href="#drive"><code>drive</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    p =&gt; DataFrame(index=(0:2)u&quot;hr&quot;, a=[2,4,6], x=1:3) ~ provide
    a ~ drive(from=p)
    b ~ drive(from=p, by=:x)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">6.0</td><td style = "text-align: right;">3.0</td></tr></tbody></table></div><p><br/></p><h3 id="columns"><a class="docs-heading-anchor" href="#columns"><code>columns</code></a><a id="columns-1"></a><a class="docs-heading-anchor-permalink" href="#columns" title="Permalink"></a></h3><p>Specifies the names of columns from the table created by the <code>tabulate</code> variable.</p><p>Used by: <a href="#tabulate"><code>tabulate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    T =&gt; [
      # a b
        0 4 ; # A
        1 5 ; # B
        2 6 ; # C
        3 7 ; # D
    ] ~ tabulate(rows=(:A, :B, :C, :D), columns=(:a, :b))
end

instance(S).T</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">   </span>│<span class="sgr1"> a    b   </span>
───┼──────────
 A │ 0.0  4.0
 B │ 1.0  5.0
 C │ 2.0  6.0
 D │ 3.0  7.0</code></pre><p><br/></p><h3 id="evalunit"><a class="docs-heading-anchor" href="#evalunit"><code>evalunit</code></a><a id="evalunit-1"></a><a class="docs-heading-anchor-permalink" href="#evalunit" title="Permalink"></a></h3><p>Specifies the evaluation unit of <code>bisect</code>, as opposed to the unit of solution.</p><p>Used by: <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    f(x) =&gt; (x/1u&quot;s&quot; - 1u&quot;m/s&quot;) ~ track(u&quot;m/s&quot;)
    x(f) ~ bisect(lower=0, upper=2, u&quot;m&quot;, evalunit=u&quot;m/s&quot;)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">f</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.0 m s^-1</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0 m</td></tr>
</table><p><br/></p><h3 id="extern"><a class="docs-heading-anchor" href="#extern"><code>extern</code></a><a id="extern-1"></a><a class="docs-heading-anchor-permalink" href="#extern" title="Permalink"></a></h3><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a>, <a href="#flag"><code>flag</code></a></p><h3 id="from"><a class="docs-heading-anchor" href="#from"><code>from</code></a><a id="from-1"></a><a class="docs-heading-anchor-permalink" href="#from" title="Permalink"></a></h3><p><code>drive</code>: Specifies the DataFrame that the <code>drive</code> variable will receive data from. If the variable name of the <code>drive</code> variable differs from column name, <code>from</code> must be accompanied with <code>by</code>.</p><p><code>integrate</code>: Specifies lower bound of integration.</p><p>Used by: <a href="#drive"><code>drive</code></a>, <a href="#integrate"><code>integrate</code></a></p><p><strong>Example</strong>: <code>drive</code></p><pre><code class="language-julia hljs">@system S(Controller) begin
    p =&gt; DataFrame(index=(0:2)u&quot;hr&quot;, a=[2,4,6], x=1:3) ~ provide
    a ~ drive(from=p)
    b ~ drive(from=p, by=:x)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">6.0</td><td style = "text-align: right;">3.0</td></tr></tbody></table></div><p><br/> <strong>Example</strong>: <code>integrate</code></p><pre><code class="language-julia hljs">@system S(Controller) begin
    w =&gt; 1 ~ preserve(parameter)
    a =&gt; 0 ~ preserve(parameter)
    b =&gt; π ~ preserve(parameter)
    f(w; x) =&gt; w*sin(x) ~ integrate(from=a, to=b)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">w</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.14159</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">f</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h3 id="index"><a class="docs-heading-anchor" href="#index"><code>index</code></a><a id="index-1"></a><a class="docs-heading-anchor-permalink" href="#index" title="Permalink"></a></h3><p>Used by <code>provide</code> variables to specify the index column from provided DataFrame. Can be omitted if DataFrame contains column &quot;index&quot;.</p><p>Used by: <a href="#provide"><code>provide</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; DataFrame(i=(0:3)u&quot;hr&quot;, value=0:10:30) ~ provide(index=:i)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">4×2 DataFrame…</td></tr>
</table><p><br/></p><h3 id="init"><a class="docs-heading-anchor" href="#init"><code>init</code></a><a id="init-1"></a><a class="docs-heading-anchor-permalink" href="#init" title="Permalink"></a></h3><p>Assigns the first value of the variable at system instantiation.</p><p>Used by: <a href="#track"><code>track</code></a>, <a href="#remember"><code>remember</code></a>, <a href="#accumulate"><code>accumulate</code></a>, <a href="#advance"><code>advance</code></a>, <a href="#provide"><code>provide</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ accumulate(init=100)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">100.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">101.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">102.0</td></tr></tbody></table></div><p><br/></p><h3 id="knotunit"><a class="docs-heading-anchor" href="#knotunit"><code>knotunit</code></a><a id="knotunit-1"></a><a class="docs-heading-anchor-permalink" href="#knotunit" title="Permalink"></a></h3><p>Specifies the unit of discrete x-values of <code>interpolate</code>.</p><p>Used by: <a href="#interpolate"><code>interpolate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    m =&gt; ([1 =&gt; 10, 2 =&gt; 20, 3 =&gt; 30]) ~ interpolate(u&quot;s&quot;, knotunit=u&quot;m&quot;)
    n(m) ~ interpolate(u&quot;m&quot;, reverse)
    a(m) =&gt; m(2.5u&quot;m&quot;) ~ track(u&quot;s&quot;)
    b(n) =&gt; n(25u&quot;s&quot;) ~ track(u&quot;m&quot;)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">m</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Quantity&#123;Int64, 𝐋, FreeUnits&#123;&#40;m,&#41;, 𝐋, nothing&#125;&#125;&#125;,&#41;, ::Vector&#123;Quantity&#123;Int64, 𝐓, FreeUnits&#123;&#40;s,&#41;, 𝐓, nothing&#125;&#125;&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Quantity&#123;Float64, 𝐓, FreeUnits&#123;&#40;s,&#41;, 𝐓, nothing&#125;&#125;:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">n</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Quantity&#123;Int64, 𝐓, FreeUnits&#123;&#40;s,&#41;, 𝐓, nothing&#125;&#125;&#125;,&#41;, ::Vector&#123;Quantity&#123;Int64, 𝐋, FreeUnits&#123;&#40;m,&#41;, 𝐋, nothing&#125;&#125;&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Quantity&#123;Float64, 𝐋, FreeUnits&#123;&#40;m,&#41;, 𝐋, nothing&#125;&#125;:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">25.0 s</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.5 m</td></tr>
</table><p><br/></p><h3 id="lower"><a class="docs-heading-anchor" href="#lower"><code>lower</code></a><a id="lower-1"></a><a class="docs-heading-anchor-permalink" href="#lower" title="Permalink"></a></h3><p>Specifies the lower bound of the solution for <code>solve</code> and <code>bisect</code> variables.</p><p>Used by: <a href="#solve"><code>solve</code></a>, <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><p><em>The solution is x = 1, 2, 3</em></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve(parameter)
    b =&gt; -6 ~ preserve(parameter)
    c =&gt; 11 ~ preserve(parameter)
    d =&gt; -6 ~ preserve(parameter)
    x(a, b, c, d) =&gt; begin
        a*x^3 + b*x^2 + c*x + d
    end ~ solve(lower=1.1, upper=2.9)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">11.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">d</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h3 id="max"><a class="docs-heading-anchor" href="#max"><code>max</code></a><a id="max-1"></a><a class="docs-heading-anchor-permalink" href="#max" title="Permalink"></a></h3><p>Defines the maximum value of the variable.</p><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a>, <a href="#accumulate"><code>accumulate</code></a>, <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ accumulate(max=1)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><p><br/></p><h3 id="maxiter"><a class="docs-heading-anchor" href="#maxiter"><code>maxiter</code></a><a id="maxiter-1"></a><a class="docs-heading-anchor-permalink" href="#maxiter" title="Permalink"></a></h3><p>Defines the maximum number of iterations for the <code>bisect</code>.</p><p>Used by: <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    x(x) =&gt; x - 0.25 ~ bisect(lower=0, upper=1, maxiter=4)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.25</td></tr>
</table><p><br/></p><h3 id="min"><a class="docs-heading-anchor" href="#min"><code>min</code></a><a id="min-1"></a><a class="docs-heading-anchor-permalink" href="#min" title="Permalink"></a></h3><p>Defines the minimum value of the variable.</p><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a>, <a href="#accumulate"><code>accumulate</code></a>, <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; -1 ~ accumulate(min=-1)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">-1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">-1.0</td></tr></tbody></table></div><p><br/></p><h3 id="once"><a class="docs-heading-anchor" href="#once"><code>once</code></a><a id="once-1"></a><a class="docs-heading-anchor-permalink" href="#once" title="Permalink"></a></h3><p>Makes a <code>flag</code> variable unable to go from <code>true</code> to <code>false</code>.</p><p>Used by: <a href="#flag"><code>flag</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller)begin
    a ~ advance(init=1)
    f(a) =&gt; (a % 2 == 0) ~ flag(once)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">f</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Bool" style = "text-align: left;">Bool</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">false</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">true</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">true</td></tr></tbody></table></div><p><br/></p><h3 id="optional"><a class="docs-heading-anchor" href="#optional"><code>optional</code></a><a id="optional-1"></a><a class="docs-heading-anchor-permalink" href="#optional" title="Permalink"></a></h3><p>Makes a <code>preserve</code> variable optional, allowing a system to be instantiated without variable assignment.</p><p>Used by: <a href="#preserve"><code>preserve</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ preserve(optional, parameter)
    b =&gt; 1 ~ preserve
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><p><br/></p><h3 id="override"><a class="docs-heading-anchor" href="#override"><code>override</code></a><a id="override-1"></a><a class="docs-heading-anchor-permalink" href="#override" title="Permalink"></a></h3><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a>, <a href="#flag"><code>flag</code></a>, <a href="#drive"><code>drive</code></a>, <a href="#bring"><code>bring</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S1 begin
    a ~ track(override)
end

@system S2(Controller) begin
    c(context, a) ~ ::S1
    a =&gt; 1 ~ track
end

instance(S2)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S2</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;S1&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
</table><p><br/></p><h3 id="parameter"><a class="docs-heading-anchor" href="#parameter"><code>parameter</code></a><a id="parameter-1"></a><a class="docs-heading-anchor-permalink" href="#parameter" title="Permalink"></a></h3><p>Allows the variable to be altered through a configuration at system instantiation.</p><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#flag"><code>flag</code></a>, <a href="#provide"><code>provide</code></a>, <a href="#drive"><code>drive</code></a>, <a href="#tabulate"><code>tabulate</code></a>, <a href="#interpolate"><code>interpolate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ preserve(parameter)
end

instance(S; config = :S =&gt; :a =&gt; 1)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
</table><p><br/></p><h3 id="parameters"><a class="docs-heading-anchor" href="#parameters"><code>parameters</code></a><a id="parameters-1"></a><a class="docs-heading-anchor-permalink" href="#parameters" title="Permalink"></a></h3><p>Use by <code>bring</code> variables to duplicate only variables that <em>can</em> have the <code>parameter</code> tag (if they did not have the <code>parameter</code> tag originally, they become parameters regardless). The duplicated variables must have their values reassigned through a configuration.</p><p>Used by: <a href="#bring"><code>bring</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S1 begin
    a =&gt; 1 ~ preserve
    b(a) =&gt; 2a ~ track
    c =&gt; true ~ flag

    d(a) ~ accumulate
end

@system S2(Controller) begin
    p(context) ~ bring::S1(parameters)
end

instance(S2; config = :S2 =&gt; (:a =&gt; 2, :b =&gt; 3, :c =&gt; false))</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S2</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">p</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;S1&gt;</td></tr>
</table><p><br/></p><h3 id="pick"><a class="docs-heading-anchor" href="#pick"><code>pick</code></a><a id="pick-1"></a><a class="docs-heading-anchor-permalink" href="#pick" title="Permalink"></a></h3><p>Picks which solution to return based on tag argument. </p><p>Used by: <a href="#solve"><code>solve</code></a></p><p><strong>Example</strong></p><p><em>The solution is x = 1, 2, 3</em></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve(parameter)
    b =&gt; -3 ~ preserve(parameter)
    c =&gt; 2 ~ preserve(parameter)
    x(a, b, c) =&gt; begin
        a*x^2 + b*x + c
    end ~ solve(pick=:minimum)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-3.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
</table><p><br/></p><h3 id="ref"><a class="docs-heading-anchor" href="#ref"><code>ref</code></a><a id="ref-1"></a><a class="docs-heading-anchor-permalink" href="#ref" title="Permalink"></a></h3><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a></p><h3 id="reset"><a class="docs-heading-anchor" href="#reset"><code>reset</code></a><a id="reset-1"></a><a class="docs-heading-anchor-permalink" href="#reset" title="Permalink"></a></h3><p>Resets the sum to 0 at every time step.</p><p>Used by: <a href="#accumulate"><code>accumulate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ accumulate(reset)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><p><br/></p><h3 id="reverse"><a class="docs-heading-anchor" href="#reverse"><code>reverse</code></a><a id="reverse-1"></a><a class="docs-heading-anchor-permalink" href="#reverse" title="Permalink"></a></h3><p>Returns the inverse function of an existing <code>interpolate</code> variable.</p><p>Used by: <a href="#interpolate"><code>interpolate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    m =&gt; ([1 =&gt; 10, 2 =&gt; 20, 3 =&gt; 30]) ~ interpolate
    n(m) ~ interpolate(reverse)
    a(m) =&gt; m(2.5) ~ preserve
    b(n) =&gt; n(25) ~ preserve
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">m</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Int64&#125;,&#41;, ::Vector&#123;Int64&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Float64:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">n</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3-element extrapolate&#40;interpolate&#40;&#40;::Vector&#123;Int64&#125;,&#41;, ::Vector&#123;Int64&#125;, Gridded&#40;Linear&#40;&#41;&#41;&#41;, Throw&#40;&#41;&#41; with element type Float64:…</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">25.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.5</td></tr>
</table><p><br/></p><h3 id="round"><a class="docs-heading-anchor" href="#round"><code>round</code></a><a id="round-1"></a><a class="docs-heading-anchor-permalink" href="#round" title="Permalink"></a></h3><p>Rounds to the nearest integer or to a floor or ceiling based on tag argument.</p><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1.4 ~ preserve(round)
    b =&gt; 1.4 ~ preserve(round=:round)
    c =&gt; 1.4 ~ preserve(round=:ceil)
    d =&gt; 1.6 ~ preserve(round=:floor)
    e =&gt; 1.6 ~ preserve(round=:trunc)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">d</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">e</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
</table><p><br/></p><h3 id="rows"><a class="docs-heading-anchor" href="#rows"><code>rows</code></a><a id="rows-1"></a><a class="docs-heading-anchor-permalink" href="#rows" title="Permalink"></a></h3><p>Specifies the names of rows from the table created by the <code>tabulate</code> variable. Required tag for <code>tabulate</code>.</p><p>Used by: <a href="#tabulate"><code>tabulate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    T =&gt; [
      # a b
        0 4 ; # A
        1 5 ; # B
        2 6 ; # C
        3 7 ; # D
    ] ~ tabulate(rows=(:A, :B, :C, :D), columns=(:a, :b))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.S</code></pre><p><br/></p><h3 id="single"><a class="docs-heading-anchor" href="#single"><code>single</code></a><a id="single-1"></a><a class="docs-heading-anchor-permalink" href="#single" title="Permalink"></a></h3><p>Used by: <a href="#produce"><code>produce</code></a></p><h3 id="skip"><a class="docs-heading-anchor" href="#skip"><code>skip</code></a><a id="skip-1"></a><a class="docs-heading-anchor-permalink" href="#skip" title="Permalink"></a></h3><p>Used by: <a href="#track"><code>track</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance
    b(a) =&gt; 2*a ~ track(skip=true)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">0.0</td></tr></tbody></table></div><p><br/></p><h3 id="step"><a class="docs-heading-anchor" href="#step"><code>step</code></a><a id="step-1"></a><a class="docs-heading-anchor-permalink" href="#step" title="Permalink"></a></h3><p><code>advance</code>: Specifies the increments of the <code>advance</code> variable.</p><p><code>provide</code>: Specifies the intervals of the index column.</p><p>Used by: <a href="#advance"><code>advance</code></a>, <a href="#provide"><code>provide</code></a></p><p><strong>Example:</strong> <code>advance</code></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance
    b ~ advance(step=2)
    c ~ advance(step=-1)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th><th style = "text-align: left;">c</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">-1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">-2.0</td></tr></tbody></table></div><p><br/> <strong>Example:</strong> <code>integrate</code></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; DataFrame(&quot;index (hr)&quot; =&gt; 0:4, &quot;value (m)&quot; =&gt; 0:10:40) ~ provide(step=2u&quot;hr&quot;)
end

instance(S).a</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">3×2 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> index      value     </span>
     │<span class="sgr90"> Quantity…  Quantity… </span>
─────┼──────────────────────
   1 │      0 hr        0 m
   2 │      2 hr       20 m
   3 │      4 hr       40 m</code></pre><p><br/></p><h3 id="tick"><a class="docs-heading-anchor" href="#tick"><code>tick</code></a><a id="tick-1"></a><a class="docs-heading-anchor-permalink" href="#tick" title="Permalink"></a></h3><p>Used by: <a href="#drive"><code>drive</code></a></p><h3 id="time"><a class="docs-heading-anchor" href="#time"><code>time</code></a><a id="time-1"></a><a class="docs-heading-anchor-permalink" href="#time" title="Permalink"></a></h3><p>Accumulates variable at a specified rate of time.</p><p>Used by: <a href="#accumulate"><code>accumulate</code></a>, <a href="#capture"><code>capture</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    t(x=context.clock.time) =&gt; 0.5x ~ track(u&quot;hr&quot;)
    a =&gt; 1 ~ accumulate
    b =&gt; 1 ~ accumulate(time=t)
end

simulate(S; stop=5)</code></pre><div><div style = "float: left;"><span>6×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">t</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">0.5 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">3.0 hr</td><td style = "text-align: right;">1.5 hr</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">1.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">4.0 hr</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">5.0 hr</td><td style = "text-align: right;">2.5 hr</td><td style = "text-align: right;">5.0</td><td style = "text-align: right;">2.5</td></tr></tbody></table></div><p><br/></p><h3 id="timeunit"><a class="docs-heading-anchor" href="#timeunit"><code>timeunit</code></a><a id="timeunit-1"></a><a class="docs-heading-anchor-permalink" href="#timeunit" title="Permalink"></a></h3><p>Specifies the time unit of the variable.</p><p>Used by: <a href="#accumulate"><code>accumulate</code></a>, <a href="#capture"><code>capture</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ accumulate(timeunit=u&quot;d&quot;)
end

simulate(S; stop=2)</code></pre><div><div style = "float: left;"><span>3×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">0.0416667</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">0.0833333</td></tr></tbody></table></div><p><br/></p><h3 id="to"><a class="docs-heading-anchor" href="#to"><code>to</code></a><a id="to-1"></a><a class="docs-heading-anchor-permalink" href="#to" title="Permalink"></a></h3><p>Specifies upper bound of integration.</p><p>Used by: <a href="#integrate"><code>integrate</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    w =&gt; 1 ~ preserve(parameter)
    a =&gt; 0 ~ preserve(parameter)
    b =&gt; π ~ preserve(parameter)
    f(w; x) =&gt; w*sin(x) ~ integrate(from=a, to=b)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">w</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">0.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">3.14159</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">f</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h3 id="tol"><a class="docs-heading-anchor" href="#tol"><code>tol</code></a><a id="tol-1"></a><a class="docs-heading-anchor-permalink" href="#tol" title="Permalink"></a></h3><p>Defines the tolerance for the bisection method used in <code>bisect</code>.</p><p>Used by: <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    x(x) =&gt; x - 2.7 ~ bisect(lower=1, upper=3)
    y(y) =&gt; y - 2.7 ~ bisect(lower=1, upper=3, tol=0.05)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.7</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">y</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.71875</td></tr>
</table><p><br/></p><h3 id="unit"><a class="docs-heading-anchor" href="#unit"><code>unit</code></a><a id="unit-1"></a><a class="docs-heading-anchor-permalink" href="#unit" title="Permalink"></a></h3><p>Specifies the unit of the variable. The tag <code>unit</code> can be omitted.</p><p>Used by: <a href="#preserve"><code>preserve</code></a>, <a href="#track"><code>track</code></a>, <a href="#remember"><code>remember</code></a>, <a href="#accumulate"><code>accumulate</code></a>, <a href="#capture"><code>capture</code></a>, <a href="#integrate"><code>integrate</code></a>, <a href="#advance"><code>advance</code></a>, <a href="#drive"><code>drive</code></a>, <a href="#tabulate"><code>tabulate</code></a>, <a href="#interpolate"><code>interpolate</code></a>, <a href="#solve"><code>solve</code></a>, <a href="#bisect"><code>bisect</code></a>, <a href="#call"><code>call</code></a></p><pre><code class="language-example hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve(unit=u&quot;hr&quot;)
    b =&gt; 1 ~ preserve(u&quot;hr&quot;)
end

instance(S)</code></pre><p><br/></p><h3 id="upper"><a class="docs-heading-anchor" href="#upper"><code>upper</code></a><a id="upper-1"></a><a class="docs-heading-anchor-permalink" href="#upper" title="Permalink"></a></h3><p>Specifies the upper bound of solution.</p><p>Used by: <a href="#solve"><code>solve</code></a>, <a href="#bisect"><code>bisect</code></a></p><p><strong>Example</strong></p><p><em>The solution is x = 1, 2, 3</em></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a =&gt; 1 ~ preserve(parameter)
    b =&gt; -6 ~ preserve(parameter)
    c =&gt; 11 ~ preserve(parameter)
    d =&gt; -6 ~ preserve(parameter)
    x(a, b, c, d) =&gt; begin
        a*x^3 + b*x^2 + c*x + d
    end ~ solve(upper=2.9)
end

instance(S)</code></pre><table style="font-family: monospace">
<tr style="background-color: transparent">
<td colspan="4" style="text-align: left; padding: 2px; padding-left: 0px; color: rebeccapurple">S</th>
</tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">context</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Context&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">config</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">&lt;Config&gt;</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">a</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">1.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">b</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">c</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">11.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">d</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">-6.0</td></tr>
<tr style="background-color: transparent"><td style="text-align: left; padding: 2px; padding-left: 20px; color: royalblue">x</td><td style="text-align: left; padding: 2px 0px 2px 0px; color: gray"></td><td style="text-align: center; padding: 2px 10px 2px 10px; color: gray">=</td><td style="text-align: left; padding: 2px;">2.0</td></tr>
</table><p><br/></p><h3 id="when"><a class="docs-heading-anchor" href="#when"><code>when</code></a><a id="when-1"></a><a class="docs-heading-anchor-permalink" href="#when" title="Permalink"></a></h3><p>Specifies when a variable should be evaluated. It is supplied with a <code>flag</code> variable, and the specified variable is evaluated when the <code>flag</code> variable is <code>true</code>.</p><p>Used by: <a href="#track"><code>track</code></a>, <a href="#flag"><code>flag</code></a>, <a href="#remember"><code>remember</code></a>, <a href="#accumulate"><code>accumulate</code></a>, <a href="#capture"><code>capture</code></a>, <a href="#produce"><code>produce</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@system S(Controller) begin
    a ~ advance
    flag(a) =&gt; (a &gt;= 2) ~ flag
    b(a) =&gt; a ~ track(when=flag)
end

simulate(S; stop=3u&quot;hr&quot;)</code></pre><div><div style = "float: left;"><span>4×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">time</th><th style = "text-align: left;">a</th><th style = "text-align: left;">flag</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Unitful.Quantity{Float64, 𝐓, Unitful.FreeUnits{(hr,), 𝐓, nothing}}" style = "text-align: left;">Quantity…</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Bool" style = "text-align: left;">Bool</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0 hr</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">false</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1.0 hr</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">false</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0 hr</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">true</td><td style = "text-align: right;">2.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">3.0 hr</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">true</td><td style = "text-align: right;">3.0</td></tr></tbody></table></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../system/">« System</a><a class="docs-footer-nextpage" href="../configuration/">Configuration »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Friday 19 April 2024 11:54">Friday 19 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
